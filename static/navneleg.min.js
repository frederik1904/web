var navneleg_activated=!1;function navneleg(){if(!navneleg_activated){navneleg_activated=!0;for(var e,n=document.getElementsByClassName("tutoraddress"),t=[],a=0,l=n.length;a<l;++a){var o=n[a],r=o.getElementsByClassName("name")[0].innerHTML.trim(),i=o.getElementsByClassName("tutorpicture"),s=r;o.getElementsByClassName("nickname").length>0&&(s=(s=o.getElementsByClassName("nickname")[0].innerHTML).substr(1,s.length-2)),0!==i.length&&(i=i[0].src,t.push({name:r,pic:i,alias:s}))}var d=1,u=function(){e=[],t.forEach(n=>e.push(n))};u();var c,v=document.getElementById("arto");if(v&&document.body.appendChild(v),document.getElementById("content").innerHTML='<h1>Navneleg</h1>\n<p id="navneleg_stats"></p>\n<p id="navneleg_status"></p>\n<p id="navneleg_container" style="position: relative; height: 130px"> + <img style="max-width: 130px; max-height: 130px" id="navneleg_tutorpicture"></p>\n<p><input id="navneleg_input"></p>\n<p><input type="button" id="navneleg_submit" value="Indsend gæt"></p>\n',v){var g=document.getElementById("navneleg_container");v.style.position="absolute",v.style.left=v.style.bottom="5px",v.style.opacity="0.5",v.style.display="none",g.appendChild(v)}var m=0,p=0,y=0,h=document.getElementById("navneleg_stats"),k=document.getElementById("navneleg_status"),f=(i=document.getElementById("navneleg_tutorpicture"),document.getElementById("navneleg_input")),w=document.getElementById("navneleg_submit"),_=function(e,n){return 1==e?e+" "+n:e+" "+n+"e"},L=null,C=function(){L=null,c=Math.floor(Math.random()*e.length);var n=e[c];i.src=n.pic,f.value="";var t=_(m,"korrekt")+", "+_(p,"forkert");y>1&&(t+=", "+_(y,"korrekt")+" i streg"),h.innerHTML=t;var a=1==d?"":" (level "+d+")";v&&(v.style.display=1==d?"none":""),document.title="Navneleg"+a+"! "+m+"/"+p+" ("+y+")",k.innerHTML="Hvem er følgende tutor? Indtast fornavnet eller et kendt kaldenavn.",f.focus()},E=function(){L&&(clearTimeout(L),L=null),L=setTimeout(C,2e3)},B=function(){var n=e[c].name,t=e[c].name.replace(/ .*/,""),a=e[c].alias;switch(f.value.toLowerCase()){case t.toLowerCase():case n.toLowerCase():case a.toLowerCase():k.innerHTML="Korrekt! Det fulde navn er "+n+(a.toLowerCase()===n.toLowerCase()?".":" og kaldenavn er "+a+"."),e.splice(c,1),0===e.length&&(u(),++d,k.innerHTML="Welcome to experience level "+d+"."),++m,++y;break;case"jeppe":k.innerHTML="Korrekt! Ish...";break;default:k.innerHTML="Nej, det var "+n+(a.toLowerCase()===n.toLowerCase()?".":" og kaldenavn er "+a+"."),++p,y=0}E()};w.onclick=B,C(),f.onkeydown=function(e){null==L&&13===e.keyCode&&B(),e.stopPropagation()}}}function win_key_down(e){return e||(e=window.event),78!==e.keyCode||(navneleg(),e.preventDefault(),!1)}window.addEventListener("keydown",win_key_down,!1);